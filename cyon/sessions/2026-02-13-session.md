# 2026-02-13 — Cyon's Daily Memory

## Heartbeat: Upstream Bug Fix Review

**Status Check Required:**

### SQ v0.5.6 Auth Integration (Shipped)
- **Ship date:** Feb 12, 2026
- **Status:** Shipped by Will — per-tenant auth integration complete
- **New Issue:** Concurrency bug (phexts shared across tenants/connections inappropriately)
- **Impact:** Multi-tenant isolation breach — critical security issue
- **Action:** Track down shared state across tenant boundaries

**Previously Logged Issues (Still Pending):**

### UTF-8 Bug in libphext-rs + SQ (R18 Blocker)
- **Status:** GitHub issues not yet filed
- **Repos:** libphext-rs v0.3.0, SQ v0.5.2
- **Symptom:** Panic on invalid UTF-8 byte sequences
- **Impact:** Blocking R18 scroll writes
- **Current workaround:** Avoid non-ASCII characters
- **Identified by:** Chrys (2026-01-31, confirmed 2026-02-10)
- **Action:** Wait for Will to file upstream when ready

### Phext Notepad: Progress Bar + Timeout Fixes
- **Logged:** 2026-02-12 to TECHNICAL-BACKLOG.md
- **Issue:** Large phext syncs need progress feedback and timeout increases
- **Priority:** P1
- **Effort:** Medium (2-4 hrs estimate)
- **Action:** Backlog item for future sprint

**New Issues Today:**

### SQ v0.5.6 Concurrency Bug (Root Cause Found)
- **Reported by:** Will, 2026-02-13 06:52 CST
- **Symptom:** Phexts being shared across clients using same tenant token
- **Root cause:** Hybrid mode uses single ServerState for ALL connections
  - Path 1: `sq host --config tenants.json` → per-phext state (FIXED)
  - Path 2: `sq host --key <key>` with tenant_map loaded → single shared state (BUGGY)
  - Lines 402-405: ONE ServerState shared across all tenants/phexts
- **Impact:** Concurrent clients overwrite each other's loaded_phext and loaded_map
- **Fix:** Redirect hybrid mode to run_multi_tenant_server when tenant_map is Some
- **Analysis:** /home/wbic16/.openclaw/workspace/sq-v0.5.6-concurrency-bug.md (4.1 KB)
